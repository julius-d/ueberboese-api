openapi: 3.0.3
info:
  title: Überböse Streaming API
  description: Reverse engineered API specification
  version: 1.2.0
paths:
  /streaming/sourceproviders:
    get:
      summary: Get streaming source providers
      description: Retrieves a list of available streaming source providers
      operationId: getSourceProviders
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Successful response with list of source providers
          headers:
            Content-Type:
              schema:
                type: string
                example: application/vnd.bose.streaming-v1.2+xml
            ETag:
              schema:
                type: string
                example: "1762017390476"
          content:
            application/vnd.bose.streaming-v1.2+xml:
              schema:
                $ref: '#/components/schemas/SourceProvidersResponse'
              example: |
                <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
                <sourceProviders>
                  <sourceprovider id="1">
                    <createdOn>2012-09-19T12:43:00.000+00:00</createdOn>
                    <name>PANDORA</name>
                    <updatedOn>2012-09-19T12:43:00.000+00:00</updatedOn>
                  </sourceprovider>
                  <sourceprovider id="15">
                    <createdOn>2014-03-17T15:30:27.000+00:00</createdOn>
                    <name>SPOTIFY</name>
                    <updatedOn>2014-03-17T15:30:27.000+00:00</updatedOn>
                  </sourceprovider>
                </sourceProviders>
        '401':
          description: Unauthorized - Invalid or missing Bearer token
        '403':
          description: Forbidden - Valid token but insufficient permissions
        '500':
          description: Internal server error

  /streaming/account/{accountId}/device/{deviceId}/recent:
    post:
      summary: Add recent item
      description: Adds a recent item to the device's recent history
      operationId: addRecentItem
      security:
        - BearerAuth: []
      parameters:
        - name: accountId
          in: path
          required: true
          description: Account identifier
          schema:
            type: string
            example: "6921042"
        - name: deviceId
          in: path
          required: true
          description: Device identifier
          schema:
            type: string
            example: "587A628A4042"
      requestBody:
        required: true
        content:
          application/vnd.bose.streaming-v1.2+xml:
            schema:
              $ref: '#/components/schemas/RecentItemRequest'
            example: |
              <?xml version="1.0" encoding="UTF-8" ?>
              <recent>
                <lastplayedat>2025-11-01T17:32:59+00:00</lastplayedat>
                <sourceid>19989313</sourceid>
                <name>Radio TEDDY</name>
                <location>/v1/playback/station/s80044</location>
                <contentItemType>stationurl</contentItemType>
              </recent>
      responses:
        '201':
          description: Recent item created successfully
          headers:
            Content-Type:
              schema:
                type: string
                example: application/vnd.bose.streaming-v1.2+xml
            Location:
              schema:
                type: string
                example: http://streamingqa.bose.com/account/6921042/device/587A628A4042/recent/2244536342
          content:
            application/vnd.bose.streaming-v1.2+xml:
              schema:
                $ref: '#/components/schemas/RecentItemResponse'
              example: |
                <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
                <recent id="2244536342">
                  <contentItemType>stationurl</contentItemType>
                  <createdOn>2018-11-27T18:20:01.000+00:00</createdOn>
                  <lastplayedat>2025-11-01T17:32:59.000+00:00</lastplayedat>
                  <location>/v1/playback/station/s80044</location>
                  <name>Radio TEDDY</name>
                  <source id="19989313" type="Audio">
                    <createdOn>2018-08-11T08:55:41.000+00:00</createdOn>
                    <credential type="token">eyDu=</credential>
                    <name></name>
                    <sourceproviderid>25</sourceproviderid>
                    <sourcename></sourcename>
                    <sourceSettings/>
                    <updatedOn>2019-07-20T17:48:31.000+00:00</updatedOn>
                    <username></username>
                  </source>
                  <sourceid>19989313</sourceid>
                  <updatedOn>2025-11-01T17:33:00.574+00:00</updatedOn>
                </recent>
        '400':
          description: Bad request - Invalid request body or parameters
        '401':
          description: Unauthorized - Invalid or missing Bearer token
        '403':
          description: Forbidden - Valid token but insufficient permissions
        '404':
          description: Not found - Account or device not found
        '500':
          description: Internal server error

  /streaming/account/{accountId}/device/{deviceId}/recents:
    get:
      summary: Get recent items
      description: Retrieves a list of recent items played on the device
      operationId: getRecents
      security:
        - BearerAuth: []
      parameters:
        - name: accountId
          in: path
          required: true
          description: Account identifier
          schema:
            type: string
            example: "6921042"
        - name: deviceId
          in: path
          required: true
          description: Device identifier
          schema:
            type: string
            example: "587A628A4042"
      responses:
        '200':
          description: Successful response with list of recent items
          headers:
            Content-Type:
              schema:
                type: string
                example: application/vnd.bose.streaming-v1.2+xml
            ETag:
              schema:
                type: string
                example: "1765724977209"
          content:
            application/vnd.bose.streaming-v1.2+xml:
              schema:
                $ref: '#/components/schemas/RecentsContainer'
              example: |
                <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
                <recents>
                  <recent id="2560855517">
                    <contentItemType>tracklisturl</contentItemType>
                    <createdOn>2025-12-13T17:14:28.000+00:00</createdOn>
                    <lastplayedat>2025-12-14T14:15:59.000+00:00</lastplayedat>
                    <location>/playback/container/c3BvdGlmeTphbGJ1bTowZ3BGWVZNbVV6VkVxeVAyeUh3cEha</location>
                    <name>Ghostsitter 23 - Das Haus im Moor</name>
                    <source id="19989621" type="Audio">
                      <createdOn>2018-08-11T09:52:31.000+00:00</createdOn>
                      <credential type="token_version_3">mockToken123=</credential>
                      <name>mockuser123</name>
                      <sourceproviderid>15</sourceproviderid>
                      <sourcename>mock@example.com</sourcename>
                      <sourceSettings/>
                      <updatedOn>2018-11-26T18:42:27.000+00:00</updatedOn>
                      <username>mockuser123</username>
                    </source>
                    <sourceid>19989621</sourceid>
                    <updatedOn>2025-12-14T14:16:05.000+00:00</updatedOn>
                  </recent>
                  <recent id="2244536335">
                    <contentItemType>stationurl</contentItemType>
                    <createdOn>2018-11-27T18:20:01.000+00:00</createdOn>
                    <lastplayedat>2025-12-14T12:32:00.000+00:00</lastplayedat>
                    <location>/v1/playback/station/s80044</location>
                    <name>Radio TEDDY</name>
                    <source id="19989313" type="Audio">
                      <createdOn>2018-08-11T08:55:41.000+00:00</createdOn>
                      <credential type="token">eyJmock=</credential>
                      <name></name>
                      <sourceproviderid>25</sourceproviderid>
                      <sourcename></sourcename>
                      <sourceSettings/>
                      <updatedOn>2019-07-20T17:48:31.000+00:00</updatedOn>
                      <username></username>
                    </source>
                    <sourceid>19989313</sourceid>
                    <updatedOn>2025-12-14T12:32:05.000+00:00</updatedOn>
                  </recent>
                </recents>
        '401':
          description: Unauthorized - Invalid or missing Bearer token
        '403':
          description: Forbidden - Valid token but insufficient permissions
        '404':
          description: Not found - Account or device not found
        '500':
          description: Internal server error

  /streaming/account/{accountId}/device/{deviceId}/presets:
    get:
      summary: Get device presets
      description: Retrieves a list of presets configured for the device
      operationId: getPresets
      security:
        - BearerAuth: []
      parameters:
        - name: accountId
          in: path
          required: true
          description: Account identifier
          schema:
            type: string
            example: "6921042"
        - name: deviceId
          in: path
          required: true
          description: Device identifier
          schema:
            type: string
            example: "587A628A4042"
      responses:
        '200':
          description: Successful response with list of presets
          headers:
            Content-Type:
              schema:
                type: string
                example: application/vnd.bose.streaming-v1.2+xml
            ETag:
              schema:
                type: string
                example: "1736199076279"
          content:
            application/vnd.bose.streaming-v1.2+xml:
              schema:
                $ref: '#/components/schemas/PresetsContainer'
              example: |
                <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
                <presets>
                  <preset buttonNumber="1">
                    <containerArt>http://cdn-radiotime-logos.tunein.com/s80044q.png</containerArt>
                    <contentItemType>stationurl</contentItemType>
                    <createdOn>2018-11-26T18:40:45.000+00:00</createdOn>
                    <location>/v1/playback/station/s80044</location>
                    <name>Radio TEDDY</name>
                    <source id="19989313" type="Audio">
                      <createdOn>2018-08-11T08:55:41.000+00:00</createdOn>
                      <credential type="token">eyJzZXJpYWwiOiAiZjUwY2JjZGItN2IxMi00NjJmLWE5ZTctZGEzMTg5NDcwMTU4In0=</credential>
                      <name></name>
                      <sourceproviderid>25</sourceproviderid>
                      <sourcename></sourcename>
                      <sourceSettings/>
                      <updatedOn>2019-07-20T17:48:31.000+00:00</updatedOn>
                      <username></username>
                    </source>
                    <updatedOn>2018-11-26T18:40:45.000+00:00</updatedOn>
                    <username>Radio TEDDY</username>
                  </preset>
                  <preset buttonNumber="2">
                    <containerArt>https://mosaic.scdn.co/300/ab67616d0000b2732a4bc05d6d23b6a9a309e8f8ab67616d0000b2733d3c35cdbf9c51eefeaed7a7ab67616d0000b2738271a54c70aaae53e3da0c09ab67616d0000b273c4ec45569fc2db1edc44a465</containerArt>
                    <contentItemType>tracklisturl</contentItemType>
                    <createdOn>2018-11-14T18:27:39.000+00:00</createdOn>
                    <location>/playback/container/c3BvdGlmeTpwbGF5bGlzdDoyM1NNZHlPSEE2S2t6SG9QT0o1S1E5</location>
                    <name>Radio Mix</name>
                    <source id="19989621" type="Audio">
                      <createdOn>2018-08-11T09:52:31.000+00:00</createdOn>
                      <credential type="token_version_3">AQCfoupV5pdDJvqVjVdOF5tUOvyB3mKqeUGyZgqSYk4imOvta8p4dJnCHCNZANz-x0O-W2aQ15ML38pyx1CdvNSdOjGPwg0IlYYfPKWgoS07kmdEfRpf1Vur-OIx46KF56pjsA</credential>
                      <name>mock5zt8py3wuxy123xa431ge</name>
                      <sourceproviderid>15</sourceproviderid>
                      <sourcename>user@example.com</sourcename>
                      <sourceSettings/>
                      <updatedOn>2018-11-26T18:42:27.000+00:00</updatedOn>
                      <username>mock5zt8py3wuxy123xa431ge</username>
                    </source>
                    <updatedOn>2021-02-21T20:19:16.000+00:00</updatedOn>
                    <username>Radio Mix</username>
                  </preset>
                  <preset buttonNumber="3">
                    <containerArt>http://cdn-profiles.tunein.com/s25111/images/logoq.jpg?t=1</containerArt>
                    <contentItemType>stationurl</contentItemType>
                    <createdOn>2018-11-26T18:41:18.000+00:00</createdOn>
                    <location>/v1/playback/station/s25111</location>
                    <name>radioeins vom rbb</name>
                    <source id="19989313" type="Audio">
                      <createdOn>2018-08-11T08:55:41.000+00:00</createdOn>
                      <credential type="token">eyJzZXJpYWwiOiAiZjUwY2JjZGItN2IxMi00NjJmLWE5ZTctZGEzMTg5NDcwMTU4In0=</credential>
                      <name></name>
                      <sourceproviderid>25</sourceproviderid>
                      <sourcename></sourcename>
                      <sourceSettings/>
                      <updatedOn>2019-07-20T17:48:31.000+00:00</updatedOn>
                      <username></username>
                    </source>
                    <updatedOn>2018-11-26T18:41:18.000+00:00</updatedOn>
                    <username>radioeins vom rbb</username>
                  </preset>
                  <preset buttonNumber="4">
                    <containerArt>https://mosaic.scdn.co/300/ab67616d0000b2735ca387be0b44d742bcee3317ab67616d0000b273627072ee659b0f3aaa0f537aab67616d0000b27364b153e7f4b060d9735c7d76ab67616d0000b2738ba1aaf88b157453fe12482d</containerArt>
                    <contentItemType>tracklisturl</contentItemType>
                    <createdOn>2018-11-26T18:47:06.000+00:00</createdOn>
                    <location>/playback/container/c3BvdGlmeTpwbGF5bGlzdDoyd0JCOGIzUWhDWXd5T0d2dE9id3dI</location>
                    <name>Saisonal Simone Sommerland</name>
                    <source id="19989621" type="Audio">
                      <createdOn>2018-08-11T09:52:31.000+00:00</createdOn>
                      <credential type="token_version_3">AQCfoupV5pdDJvqVjVdOF5tUOvyB3mKqeUGyZgqSYk4imOvta8p4dJnCHCNZANz-x0O-W2aQ15ML38pyx1CdvNSdOjGPwg0IlYYfPKWgoS07kmdEfRpf1Vur-OIx46KF56pjsA</credential>
                      <name>mock5zt8py3wuxy123xa431ge</name>
                      <sourceproviderid>15</sourceproviderid>
                      <sourcename>user@example.com</sourcename>
                      <sourceSettings/>
                      <updatedOn>2018-11-26T18:42:27.000+00:00</updatedOn>
                      <username>mock5zt8py3wuxy123xa431ge</username>
                    </source>
                    <updatedOn>2022-11-17T19:35:37.000+00:00</updatedOn>
                    <username>Saisonal Simone Sommerland</username>
                  </preset>
                  <preset buttonNumber="5">
                    <containerArt></containerArt>
                    <contentItemType>tracklisturl</contentItemType>
                    <createdOn>2018-11-14T18:27:23.000+00:00</createdOn>
                    <location>/playback/container/c3BvdGlmeTpwbGF5bGlzdDozN2k5ZFFaRjFFNG1zazBURmdzeVRG</location>
                    <name>Ed Sheeran Radio</name>
                    <source id="20260226" type="Audio">
                      <createdOn>2018-09-16T19:18:46.000+00:00</createdOn>
                      <credential type="token_version_3">AQAHZ3A2USJzLX8CUEUPqIHOPpQihPpwcVO-0h2-g5-7SWRtIFfoQadeVu1Ud0TgVDkee7PyFnJbJUubZkrpv3A9jLaEeY991wSkXGG-EM_IlwvkRpASmwT3nbyixpVkSDw</credential>
                      <name>bldfvhhzdsyw2d4cy3melcaco</name>
                      <sourceproviderid>15</sourceproviderid>
                      <sourcename>otheruser@example.com</sourcename>
                      <sourceSettings/>
                      <updatedOn>2019-12-20T14:31:09.000+00:00</updatedOn>
                      <username>bldfvhhzdsyw2d4cy3melcaco</username>
                    </source>
                    <updatedOn>2020-01-26T12:45:13.000+00:00</updatedOn>
                    <username>Ed Sheeran Radio</username>
                  </preset>
                  <preset buttonNumber="6">
                    <containerArt>https://image-cdn-fa.spotifycdn.com/image/ab67706c0000da843b38733ef58fbd3530776a42</containerArt>
                    <contentItemType>tracklisturl</contentItemType>
                    <createdOn>2018-08-11T09:53:48.000+00:00</createdOn>
                    <location>/playback/container/c3BvdGlmeTpwbGF5bGlzdDoybjZXMnA1QzBNQUQ5YTR6NXhUVDdu</location>
                    <name>Komplett Entspannt</name>
                    <source id="19989621" type="Audio">
                      <createdOn>2018-08-11T09:52:31.000+00:00</createdOn>
                      <credential type="token_version_3">AQCfoupV5pdDJvqVjVdOF5tUOvyB3mKqeUGyZgqSYk4imOvta8p4dJnCHCNZANz-x0O-W2aQ15ML38pyx1CdvNSdOjGPwg0IlYYfPKWgoS07kmdEfRpf1Vur-OIx46KF56pjsA</credential>
                      <name>mock5zt8py3wuxy123xa431ge</name>
                      <sourceproviderid>15</sourceproviderid>
                      <sourcename>user@example.com</sourcename>
                      <sourceSettings/>
                      <updatedOn>2018-11-26T18:42:27.000+00:00</updatedOn>
                      <username>mock5zt8py3wuxy123xa431ge</username>
                    </source>
                    <updatedOn>2025-01-06T21:31:15.000+00:00</updatedOn>
                    <username>Komplett Entspannt</username>
                  </preset>
                </presets>
        '401':
          description: Unauthorized - Invalid or missing Bearer token
        '403':
          description: Forbidden - Valid token but insufficient permissions
        '404':
          description: Not found - Account or device not found
        '500':
          description: Internal server error

  /streaming/account/{accountId}/device/{deviceId}/preset/{presetNumber}:
    put:
      summary: Update device preset
      description: Updates or creates a preset for a specific button number on the device
      operationId: updatePreset
      tags:
        - experimental
      security:
        - BearerAuth: []
      parameters:
        - name: accountId
          in: path
          required: true
          description: Account identifier
          schema:
            type: string
            example: "6921042"
        - name: deviceId
          in: path
          required: true
          description: Device identifier
          schema:
            type: string
            example: "587A628A4042"
        - name: presetNumber
          in: path
          required: true
          description: Preset button number (1-6)
          schema:
            type: integer
            example: 2
      requestBody:
        required: true
        content:
          application/vnd.bose.streaming-v1.2+xml:
            schema:
              $ref: '#/components/schemas/PresetUpdateRequest'
            example: |
              <?xml version="1.0" encoding="UTF-8" ?>
              <preset buttonNumber="2">
                <sourceid>19989621</sourceid>
                <name>Radio Mix</name>
                <username>Radio Mix</username>
                <location>/playback/container/c3BvdGlmeTpwbGF5bGlzdDoyM1NNZHlPSEE2S2t6SG9QT0o1S1E5</location>
                <contentItemType>tracklisturl</contentItemType>
                <containerArt>https://image-cdn-ak.spotifycdn.com/image/ab67706c0000da84993ee084406c4089ad8f4b2a</containerArt>
              </preset>
      responses:
        '200':
          description: Preset updated successfully
          headers:
            Content-Type:
              schema:
                type: string
                example: application/vnd.bose.streaming-v1.2+xml
            Location:
              schema:
                type: string
                example: http://streamingqa.bose.com/account/6921042/device/587A628A4042/preset/2
          content:
            application/vnd.bose.streaming-v1.2+xml:
              schema:
                $ref: '#/components/schemas/PresetUpdateResponse'
              example: |
                <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
                <preset buttonNumber="2">
                  <containerArt>https://image-cdn-ak.spotifycdn.com/image/ab67706c0000da84993ee084406c4089ad8f4b2a</containerArt>
                  <contentItemType>tracklisturl</contentItemType>
                  <createdOn>2018-11-14T18:27:39.000+00:00</createdOn>
                  <location>/playback/container/c3BvdGlmeTpwbGF5bGlzdDoyM1NNZHlPSEE2S2t6SG9QT0o1S1E5</location>
                  <name>Radio Mix</name>
                  <source id="19989621" type="Audio">
                    <createdOn>2018-08-11T09:52:31.000+00:00</createdOn>
                    <credential type="token_version_3">mockToken456xyz=</credential>
                    <name>mockuser5zt8py3wuxy123</name>
                    <sourceproviderid>15</sourceproviderid>
                    <sourcename>user@example.com</sourcename>
                    <sourceSettings/>
                    <updatedOn>2018-11-26T18:42:27.000+00:00</updatedOn>
                    <username>mockuser5zt8py3wuxy123</username>
                  </source>
                  <updatedOn>2025-12-28T16:38:41.000+00:00</updatedOn>
                  <username>Radio Mix</username>
                </preset>
        '400':
          description: Bad request - Invalid request body or parameters
        '404':
          description: Not found - Account or device not found
        '500':
          description: Internal server error

  /streaming/account/{accountId}/full:
    get:
      summary: Get full account details
      description: Retrieves complete account information including devices, presets, recents, and sources
      operationId: getFullAccount
      security:
        - BearerAuth: []
      parameters:
        - name: accountId
          in: path
          required: true
          description: Account identifier
          schema:
            type: string
            example: "6921042"
      responses:
        '200':
          description: Successful response with full account details
          headers:
            Content-Type:
              schema:
                type: string
                example: application/vnd.bose.streaming-v1.2+xml
            METHOD_NAME:
              schema:
                type: string
                example: getFullAccount
          content:
            application/vnd.bose.streaming-v1.2+xml:
              schema:
                $ref: '#/components/schemas/FullAccountResponse'
        '401':
          description: Unauthorized - Invalid or missing Bearer token
        '403':
          description: Forbidden - Valid token but insufficient permissions
        '404':
          description: Not found - Account not found
        '500':
          description: Internal server error

  /streaming/account/{accountId}/provider_settings:
    get:
      summary: Get provider settings
      description: Unclear. Returns empty 200 ok response for me
      operationId: getProviderSettings
      tags:
        - unclear
      security:
        - BearerAuth: []
      parameters:
        - name: accountId
          in: path
          required: true
          description: Account identifier
          schema:
            type: string
            example: "6921042"
      responses:
        '200':
          description: Unclear, empty response
          headers:
            Content-Type:
              schema:
                type: string
                example: application/vnd.bose.streaming-v1.2+xml
            METHOD_NAME:
              schema:
                type: string
                example: getProviderSettings

  /streaming/support/power_on:
    post:
      summary: Power on support
      description: Unclear. Returns 500 server error in testing
      operationId: powerOnSupport
      tags:
        - unclear
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/vnd.bose.streaming-v1.2+xml:
            schema:
              $ref: '#/components/schemas/PowerOnRequest'
            example: |
              <?xml version="1.0" encoding="UTF-8" ?><device-data><device id="587A628A4042"><serialnumber>P123456789101123456789</serialnumber><firmware-version>27.0.6.46330.5043500 epdbuild.trunk.hepdswbld04.2022-08-04T11:20:29</firmware-version><product product_code="SoundTouch 10 sm2" type="5"><serialnumber>069236P81556160AE</serialnumber></product></device><diagnostic-data><device-landscape><rssi>Good</rssi><gateway-ip-address>192.168.178.1</gateway-ip-address><macaddresses><macaddress>587A628A4042</macaddress><macaddress>40BD32BAB0EB</macaddress></macaddresses><ip-address>192.168.178.50</ip-address><network-connection-type>Wireless</network-connection-type></device-landscape><network-landscape><network-data xmlns="http://www.Bose.com/Schemas/2012-12/NetworkMonitor/" /></network-landscape></diagnostic-data></device-data>
      responses:
        '500':
          description: Server Error
          headers:
            Content-Type:
              schema:
                type: string
                example: application/vnd.bose.streaming-v1.2+xml
            Transfer-Encoding:
              schema:
                type: string
                example: chunked
            Connection:
              schema:
                type: string
                example: keep-alive
            Date:
              schema:
                type: string
                example: Sun, 14 Dec 2025 15:47:45 GMT
            Server:
              schema:
                type: string
                example: nginx/1.12.2
            X-Cache:
              schema:
                type: string
                example: Error from cloudfront
            Via:
              schema:
                type: string
                example: 1.1 25cc6d5f46d4eae9262198b05709a32e.cloudfront.net (CloudFront)
            X-Amz-Cf-Pop:
              schema:
                type: string
                example: TXL50-P5
            X-Amz-Cf-Id:
              schema:
                type: string
                example: Kl7KX4Qg9VsxbXorzrPIP2P2sOAciHNyhYfI_Q41aIITz-CUnwy9Tw==
          content:
            application/vnd.bose.streaming-v1.2+xml:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example: |
                <?xml version="1.0" encoding="UTF-8" standalone="yes"?><status><message>Server Error: java.lang.RuntimeException: Failed : HTTP error code : 403</message><status-code>500</status-code></status>

  /streaming/account/{accountId}/device/{deviceId}/group/:
    get:
      summary: Get device group
      description: >
        Unclear. Returns always an empty group.
        What is it used for?
      operationId: getDeviceGroup
      tags:
        - unclear
      security:
        - BearerAuth: []
      parameters:
        - name: accountId
          in: path
          required: true
          description: Account identifier
          schema:
            type: string
            example: "6921042"
        - name: deviceId
          in: path
          required: true
          description: Device identifier
          schema:
            type: string
            example: "587A628A4042"
      responses:
        '200':
          description: Successful response with group information
          headers:
            Content-Type:
              schema:
                type: string
                example: application/vnd.bose.streaming-v1.2+xml
          content:
            application/vnd.bose.streaming-v1.2+xml:
              schema:
                $ref: '#/components/schemas/GroupResponse'
              example: |
                <?xml version="1.0" encoding="UTF-8" standalone="yes"?><group/>
        '401':
          description: Unauthorized - Invalid or missing Bearer token
        '403':
          description: Forbidden - Valid token but insufficient permissions
        '404':
          description: Not found - Account or device not found
        '500':
          description: Internal server error

  /oauth/device/{deviceId}/music/musicprovider/{providerId}/token/{tokenType}:
    post:
      summary: Refresh OAuth token
      description: Refreshes an OAuth token for a specific music provider
      operationId: refreshOAuthToken
      tags:
        - oauth
      security:
        - BearerAuth: []
      parameters:
        - name: deviceId
          in: path
          required: true
          description: Device identifier
          schema:
            type: string
            example: "587A628A4042"
        - name: providerId
          in: path
          required: true
          description: Music provider identifier (e.g., 15 for Spotify)
          schema:
            type: string
            example: "15"
        - name: tokenType
          in: path
          required: true
          description: Token type identifier
          schema:
            type: string
            example: "cs3"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OAuthTokenRequest'
            example:
              code: ""
              grant_type: "refresh_token"
              redirect_uri: ""
              refresh_token: "AQC-x0O-W2aVur-OIA"
      responses:
        '200':
          description: Token refreshed successfully
          headers:
            Content-Type:
              schema:
                type: string
                example: application/json
            Content-Length:
              schema:
                type: string
                example: "633"
            Connection:
              schema:
                type: string
                example: "keep-alive"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OAuthTokenResponse'
              example:
                access_token: "123fooAccessExampleToken"
                token_type: "Bearer"
                expires_in: 3600
                scope: "playlist-read-private playlist-read-collaborative streaming user-library-read user-library-modify playlist-modify-private playlist-modify-public user-read-email user-read-private user-top-read"
        '400':
          description: Bad request - Invalid request body or parameters
        '401':
          description: Unauthorized - Invalid or missing Bearer token
        '403':
          description: Forbidden - Valid token but insufficient permissions
        '404':
          description: Not found - Device or provider not found
        '500':
          description: Internal server error

  /streaming/software/update/account/{accountId}:
    get:
      summary: Get software update information
      description: Retrieves software update information for an account
      operationId: getSoftwareUpdate
      tags:
        - experimental
      security:
        - BearerAuth: []
      parameters:
        - name: accountId
          in: path
          required: true
          description: Account identifier
          schema:
            type: string
            example: "6921042"
      responses:
        '200':
          description: Successful response with software update information
          headers:
            Content-Type:
              schema:
                type: string
                example: application/vnd.bose.streaming-v1.2+xml
          content:
            application/vnd.bose.streaming-v1.2+xml:
              schema:
                $ref: '#/components/schemas/SoftwareUpdateResponse'
              example: |
                <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
                <software_update>
                  <softwareUpdateLocation></softwareUpdateLocation>
                </software_update>
        '401':
          description: Unauthorized - Invalid or missing Bearer token
        '403':
          description: Forbidden - Valid token but insufficient permissions
        '404':
          description: Not found - Account not found
        '500':
          description: Internal server error

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: Bearer token authentication

  schemas:
    SourceProvidersResponse:
      type: object
      description: XML response containing list of source providers
      xml:
        name: sourceProviders
      properties:
        sourceprovider:
          type: array
          items:
            $ref: '#/components/schemas/SourceProvider'
          xml:
            wrapped: false

    SourceProvider:
      type: object
      description: A streaming source provider
      xml:
        name: sourceprovider
      required:
        - id
        - createdOn
        - name
        - updatedOn
      properties:
        id:
          type: integer
          description: Unique identifier for the source provider
          xml:
            attribute: true
          example: 1
        createdOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the provider was created
          example: "2012-09-19T12:43:00.000+00:00"
        name:
          type: string
          description: Name/type of the streaming source provider
          example: PANDORA
        updatedOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the provider was last updated
          example: "2012-09-19T12:43:00.000+00:00"

    RecentItemRequest:
      type: object
      description: XML request body for adding a recent item
      xml:
        name: recent
      required:
        - lastplayedat
        - sourceid
        - name
        - location
        - contentItemType
      properties:
        lastplayedat:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the item was last played
          example: "2025-11-01T17:32:59+00:00"
        sourceid:
          type: string
          description: Identifier of the source
          example: "19989313"
        name:
          type: string
          description: Name of the content item
          example: "Radio TEDDY"
        location:
          type: string
          description: Location/path of the content item
          example: "/v1/playback/station/s80044"
        contentItemType:
          type: string
          description: Type of the content item
          example: "stationurl"

    RecentItemResponse:
      type: object
      description: XML response containing recent item details
      xml:
        name: recent
      required:
        - id
        - contentItemType
        - createdOn
        - lastplayedat
        - location
        - name
        - source
        - sourceid
        - updatedOn
      properties:
        id:
          type: string
          description: Unique identifier for the recent item
          xml:
            attribute: true
          example: "2244536335"
        contentItemType:
          type: string
          description: Type of the content item
          example: "stationurl"
        createdOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the item was created
          example: "2018-11-27T18:20:01.000+00:00"
        lastplayedat:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the item was last played
          example: "2025-11-01T17:32:59.000+00:00"
        location:
          type: string
          description: Location/path of the content item
          example: "/v1/playback/station/s80044"
        name:
          type: string
          description: Name of the content item
          example: "Radio TEDDY"
        source:
          $ref: '#/components/schemas/Source'
        sourceid:
          type: string
          description: Identifier of the source
          example: "19989313"
        updatedOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the item was last updated
          example: "2025-11-01T17:33:00.574+00:00"

    Source:
      type: object
      description: Source information for accounts, devices, presets, and recent items
      xml:
        name: source
      required:
        - id
        - type
        - createdOn
        - credential
        - name
        - sourceproviderid
        - sourcename
        - sourceSettings
        - updatedOn
        - username
      properties:
        id:
          type: string
          description: Unique identifier for the source
          xml:
            attribute: true
          example: "19989313"
        type:
          type: string
          description: Type of the source
          xml:
            attribute: true
          example: "Audio"
        createdOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the source was created
          example: "2018-08-11T08:55:41.000+00:00"
        credential:
          $ref: '#/components/schemas/Credential'
        name:
          type: string
          description: Name of the source
          example: ""
        sourceproviderid:
          type: string
          description: Identifier of the source provider
          example: "25"
        sourcename:
          type: string
          description: Name of the source
          example: ""
        sourceSettings:
          type: object
          description: Source settings (empty object)
          xml:
            name: sourceSettings
        updatedOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the source was last updated
          example: "2019-07-20T17:48:31.000+00:00"
        username:
          type: string
          description: Username associated with the source
          example: ""

    Credential:
      type: object
      description: Credential information for a source
      xml:
        name: credential
      required:
        - type
        - value
      properties:
        type:
          type: string
          description: Type of credential
          xml:
            attribute: true
          example: "token"
        value:
          type: string
          description: Credential value/token
          x-isXmlText: true
          example: "eyDu="

    OAuthTokenRequest:
      type: object
      description: OAuth token refresh request
      required:
        - grant_type
        - refresh_token
      properties:
        code:
          type: string
          description: Authorization code (empty for refresh token flow)
          example: ""
        grant_type:
          type: string
          description: OAuth grant type
          example: "refresh_token"
        redirect_uri:
          type: string
          description: Redirect URI (empty for refresh token flow)
          example: ""
        refresh_token:
          type: string
          description: Refresh token to exchange for new access token
          example: "AQC-x0O-W2aVur-OIA"

    OAuthTokenResponse:
      type: object
      description: OAuth token response
      required:
        - access_token
        - token_type
        - expires_in
      properties:
        access_token:
          type: string
          description: Access token for API authorization
          example: "123fooAccessExampleToken"
        token_type:
          type: string
          description: Type of the token
          example: "Bearer"
        expires_in:
          type: integer
          description: Token expiration time in seconds
          example: 3600
        scope:
          type: string
          description: Space-separated list of granted scopes
          example: "playlist-read-private playlist-read-collaborative streaming user-library-read user-library-modify playlist-modify-private playlist-modify-public user-read-email user-read-private user-top-read"

    FullAccountResponse:
      type: object
      description: XML response containing complete account information
      xml:
        name: account
      required:
        - id
        - accountStatus
        - devices
        - mode
        - preferredLanguage
        - sources
      properties:
        id:
          type: string
          description: Account identifier
          xml:
            attribute: true
          example: "6921042"
        accountStatus:
          type: string
          description: Status of the account
          example: "CHANGE_PASSWORD"
        devices:
          $ref: '#/components/schemas/DevicesContainer'
        mode:
          type: string
          description: Account mode
          example: "global"
        preferredLanguage:
          type: string
          description: Preferred language code
          example: "de"
        sources:
          $ref: '#/components/schemas/SourcesContainer'

    DevicesContainer:
      type: object
      description: Container for devices
      xml:
        name: devices
      properties:
        device:
          type: array
          items:
            $ref: '#/components/schemas/Device'
          xml:
            wrapped: false

    Device:
      type: object
      description: Device information
      xml:
        name: device
      required:
        - deviceid
        - attachedProduct
        - createdOn
        - firmwareVersion
        - ipaddress
        - name
        - presets
        - recents
        - serialNumber
        - updatedOn
      properties:
        deviceid:
          type: string
          description: Device identifier
          xml:
            attribute: true
          example: "123980WER"
        attachedProduct:
          $ref: '#/components/schemas/AttachedProduct'
        createdOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the device was created
          example: "2018-08-11T08:55:25.000+00:00"
        firmwareVersion:
          type: string
          description: Firmware version of the device
          example: "27.0.6.46330.5043500 epdbuild.trunk.hepdswbld04.2022-08-04T11:20:29"
        ipaddress:
          type: string
          description: IP address of the device
          example: "192.168.178.2"
        name:
          type: string
          description: Name of the device
          example: "Foobar"
        presets:
          $ref: '#/components/schemas/PresetsContainer'
        recents:
          $ref: '#/components/schemas/RecentsContainer'
        serialNumber:
          type: string
          description: Serial number of the device
          example: "PUP43434234"
        updatedOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the device was last updated
          example: "2025-09-06T08:25:49.000+00:00"

    AttachedProduct:
      type: object
      description: Product attached to the device
      xml:
        name: attachedProduct
      required:
        - product_code
        - components
        - productlabel
        - serialnumber
      properties:
        product_code:
          type: string
          description: Product code
          xml:
            attribute: true
          example: "SoundTouch 10 sm2"
        components:
          type: object
          description: Components (empty object)
          xml:
            name: components
        productlabel:
          type: string
          description: Product label
          example: "soundtouch_10"
        serialnumber:
          type: string
          description: Serial number of the product
          example: "123SERIA1"

    PresetsContainer:
      type: object
      description: Container for presets
      xml:
        name: presets
      properties:
        preset:
          type: array
          items:
            $ref: '#/components/schemas/Preset'
          xml:
            wrapped: false

    Preset:
      type: object
      description: Preset configuration
      xml:
        name: preset
      required:
        - buttonNumber
        - containerArt
        - contentItemType
        - createdOn
        - location
        - name
        - source
        - updatedOn
        - username
      properties:
        buttonNumber:
          type: integer
          description: Button number for the preset
          xml:
            attribute: true
          example: 1
        containerArt:
          type: string
          description: URL to the container art
          example: "https://example.org/s80044q.png"
        contentItemType:
          type: string
          description: Type of content item
          example: "stationurl"
        createdOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the preset was created
          example: "2018-11-26T18:40:45.000+00:00"
        location:
          type: string
          description: Location/path of the content
          example: "/v1/playback/station/s80044"
        name:
          type: string
          description: Name of the preset
          example: "Radio Foobar"
        source:
          $ref: '#/components/schemas/Source'
        updatedOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the preset was last updated
          example: "2018-11-26T18:40:45.000+00:00"
        username:
          type: string
          example: "Radio Foobar"

    PresetUpdateRequest:
      type: object
      description: Request body for updating a preset
      xml:
        name: preset
      required:
        - buttonNumber
        - sourceid
        - name
        - username
        - location
        - contentItemType
        - containerArt
      properties:
        buttonNumber:
          type: integer
          description: Button number for the preset
          xml:
            attribute: true
          example: 2
        sourceid:
          type: string
          description: Identifier of the source
          example: "19989621"
        name:
          type: string
          description: Name of the preset
          example: "Radio Mix"
        username:
          type: string
          description: Username associated with the preset
          example: "Radio Mix"
        location:
          type: string
          description: Location/path of the content
          example: "/playback/container/c3BvdGlmeTpwbGF5bGlzdDoyM1NNZHlPSEE2S2t6SG9QT0o1S1E5"
        contentItemType:
          type: string
          description: Type of content item
          example: "tracklisturl"
        containerArt:
          type: string
          description: URL to the container art
          example: "https://image-cdn-ak.spotifycdn.com/image/ab67706c0000da84993ee084406c4089ad8f4b2a"

    PresetUpdateResponse:
      type: object
      description: XML response containing updated preset details
      xml:
        name: preset
      required:
        - buttonNumber
        - containerArt
        - contentItemType
        - createdOn
        - location
        - name
        - source
        - updatedOn
        - username
      properties:
        buttonNumber:
          type: integer
          description: Button number for the preset
          xml:
            attribute: true
          example: 2
        containerArt:
          type: string
          description: URL to the container art
          example: "https://image-cdn-ak.spotifycdn.com/image/ab67706c0000da84993ee084406c4089ad8f4b2a"
        contentItemType:
          type: string
          description: Type of content item
          example: "tracklisturl"
        createdOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the preset was created
          example: "2018-11-14T18:27:39.000+00:00"
        location:
          type: string
          description: Location/path of the content
          example: "/playback/container/c3BvdGlmeTpwbGF5bGlzdDoyM1NNZHlPSEE2S2t6SG9QT0o1S1E5"
        name:
          type: string
          description: Name of the preset
          example: "Radio Mix"
        source:
          $ref: '#/components/schemas/Source'
        updatedOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the preset was last updated
          example: "2025-12-28T16:38:41.000+00:00"
        username:
          type: string
          description: Username associated with the preset
          example: "Radio Mix"

    RecentsContainer:
      type: object
      description: Container for recent items
      xml:
        name: recents
      properties:
        recent:
          type: array
          items:
            $ref: '#/components/schemas/RecentItem'
          xml:
            wrapped: false

    RecentItem:
      type: object
      description: Recent item played on the device
      xml:
        name: recent
      required:
        - id
        - contentItemType
        - createdOn
        - lastplayedat
        - location
        - name
        - source
        - sourceid
        - updatedOn
      properties:
        id:
          type: string
          description: Unique identifier for the recent item
          xml:
            attribute: true
          example: "123"
        contentItemType:
          type: string
          description: Type of content item
          example: "tracklisturl"
        createdOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the item was created
          example: "2025-11-09T11:40:37.000+00:00"
        lastplayedat:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the item was last played
          example: "2025-11-09T19:42:09.000+00:00"
        location:
          type: string
          description: Location/path of the content
          example: "/playback/container/35546f3"
        name:
          type: string
          description: Name of the recent item
          example: "A Name"
        source:
          $ref: '#/components/schemas/Source'
        sourceid:
          type: string
          description: Identifier of the source
          example: "19989643"
        updatedOn:
          type: string
          format: date-time
          description: ISO 8601 timestamp when the item was last updated
          example: "2025-11-09T19:42:11.000+00:00"

    SourcesContainer:
      type: object
      description: Container for sources
      xml:
        name: sources
      properties:
        source:
          type: array
          items:
            $ref: '#/components/schemas/Source'
          xml:
            wrapped: false

    GroupResponse:
      type: object
      description: XML response containing group information (typically empty)
      xml:
        name: group

    PowerOnRequest:
      type: object
      description: XML request body for power on support with device diagnostic data
      xml:
        name: device-data
      properties:
        device:
          $ref: '#/components/schemas/PowerOnDevice'
        diagnostic-data:
          $ref: '#/components/schemas/DiagnosticData'

    PowerOnProduct:
      type: object
      description: Product information for power on request
      xml:
        name: product
      properties:
        product_code:
          type: string
          description: Product code identifier
          xml:
            attribute: true
          example: "SoundTouch 10 sm2"
        type:
          type: string
          description: Product type identifier
          xml:
            attribute: true
          example: "5"
        serialnumber:
          type: string
          description: Product serial number
          example: "069123456789010AE"

    PowerOnDevice:
      type: object
      description: Device information for power on request
      xml:
        name: device
      properties:
        id:
          type: string
          description: Device identifier
          xml:
            attribute: true
          example: "587A628A4042"
        serialnumber:
          type: string
          description: Device serial number
          example: "P123456789101123456789"
        firmware-version:
          type: string
          description: Firmware version string
          xml:
            name: firmware-version
          example: "27.0.6.46330.5043500 epdbuild.trunk.hepdswbld04.2022-08-04T11:20:29"
        product:
          $ref: '#/components/schemas/PowerOnProduct'

    MacAddresses:
      type: object
      description: Container for MAC addresses
      xml:
        name: macaddresses
      properties:
        macaddress:
          type: array
          description: List of MAC addresses
          items:
            type: string
            example: "587A628A4042"
          xml:
            name: macaddress
            wrapped: false

    DeviceLandscape:
      type: object
      description: Device network landscape information
      xml:
        name: device-landscape
      properties:
        rssi:
          type: string
          description: Signal strength indicator
          example: "Good"
        gateway-ip-address:
          type: string
          description: Gateway IP address
          xml:
            name: gateway-ip-address
          example: "192.168.178.1"
        macaddresses:
          $ref: '#/components/schemas/MacAddresses'
        ip-address:
          type: string
          description: Device IP address
          xml:
            name: ip-address
          example: "192.168.178.50"
        network-connection-type:
          type: string
          description: Type of network connection
          xml:
            name: network-connection-type
          example: "Wireless"

    NetworkLandscape:
      type: object
      description: Network landscape information
      xml:
        name: network-landscape
      properties:
        network-data:
          type: object
          description: Network data container
          xml:
            name: network-data

    DiagnosticData:
      type: object
      description: Diagnostic data including device and network information
      xml:
        name: diagnostic-data
      properties:
        device-landscape:
          $ref: '#/components/schemas/DeviceLandscape'
        network-landscape:
          $ref: '#/components/schemas/NetworkLandscape'

    ErrorResponse:
      type: object
      description: XML response containing error status
      xml:
        name: status
      properties:
        message:
          type: string
          description: Error message
          example: "Server Error: java.lang.RuntimeException: Failed : HTTP error code : 403"
        status-code:
          type: string
          description: Status code
          xml:
            name: status-code
          example: "500"

    SoftwareUpdateResponse:
      type: object
      description: XML response containing software update information
      xml:
        name: software_update
      properties:
        softwareUpdateLocation:
          type: string
          description: Location URL for software update (empty if no update available)
          example: ""

CREATE TABLE IF NOT EXISTS PRESET (
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ACCOUNT_ID VARCHAR(255) NOT NULL,
    DEVICE_ID VARCHAR(255) NOT NULL,
    BUTTON_NUMBER INTEGER NOT NULL,
    CONTAINER_ART VARCHAR(1024),
    CONTENT_ITEM_TYPE VARCHAR(50) NOT NULL,
    CREATED_ON TIMESTAMP WITH TIME ZONE NOT NULL,
    LOCATION VARCHAR(512) NOT NULL,
    NAME VARCHAR(512) NOT NULL,
    UPDATED_ON TIMESTAMP WITH TIME ZONE NOT NULL,
    SOURCE_ID VARCHAR(255) NOT NULL,
    VERSION BIGINT NOT NULL DEFAULT 0,
    CONSTRAINT UQ_PRESET_ACCOUNT_DEVICE_BUTTON
        UNIQUE (ACCOUNT_ID, DEVICE_ID, BUTTON_NUMBER)
);

CREATE INDEX IF NOT EXISTS IDX_PRESET_ACCOUNT_DEVICE
    ON PRESET(ACCOUNT_ID, DEVICE_ID);

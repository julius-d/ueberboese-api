spring.application.name=ueberboese-api

proxy.target-host=https://streaming.bose.com
proxy.auth-target-host=https://streamingoauth.bose.com
proxy.software-update-target-host=https://worldwide.bose.com
proxy.stats-target-host=https://events.api.bosecm.com
proxy.bmx-registry-host=https://content.api.bose.io

# BMX Configuration
# Base URL for BMX services (used in service registry placeholders)
# Can be overridden via UEBERBOESE_BMX_BASE_URL environment variable
ueberboese.bmx.base-url=${UEBERBOESE_BMX_BASE_URL:http://localhost:8080}

# TuneIn API URLs (public OPML endpoints)
tunein.api.describe-url=https://opml.radiotime.com/describe.ashx?id=%s
tunein.api.stream-url=http://opml.radiotime.com/Tune.ashx?id=%s

# OAuth controller configuration
# Set to true to enable OAuth endpoints (can be overridden via UEBERBOESE_OAUTH_ENABLED environment variable)
ueberboese.oauth.enabled=false

# Event storage configuration
# Maximum number of events to keep per device in memory (default: 50)
ueberboese.events.max-events-per-device=50

ueberboese.data-directory=/data

# Management API Security configuration
# Basic Auth credentials for /mgmt/** endpoints (can be overridden via environment variables)
# Environment variables: UEBERBOESE_MGMT_USERNAME, UEBERBOESE_MGMT_PASSWORD
ueberboese.mgmt.username=admin
ueberboese.mgmt.password=change_me!

# Spotify Management API configuration
# Using custom URI scheme for mobile/desktop app callback
spotify.mgmt.redirect-uri=ueberboese-login://spotify

spotify.api.auth-base-url=https://api.spotify.com
spotify.api.base-url=https://accounts.spotify.com

spring.jackson.default-property-inclusion=NON_NULL
spring.jackson.mapper.sort-properties-alphabetically=false

# Actuator configuration - run on separate management port
management.server.port=8081
management.endpoints.web.exposure.include=health,info,metrics,env,loggers
management.endpoint.health.show-details=always

# H2 Database Configuration
# Using CACHE mode for RAM caching with file persistence
# Database file will be stored in ${ueberboese.data-directory}/ueberboese-db
spring.datasource.url=jdbc:h2:file:${ueberboese.data-directory}/ueberboese-db;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;CACHE_SIZE=8192
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
#logging.level.com.github.juliusd.ueberboeseapi=DEBUG
